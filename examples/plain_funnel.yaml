# Example funnel configuration for LogLion
# yaml-language-server: $schema=../schema/funnel-config.schema.json

format: "plain"  # Log format for plain text log files

funnel:
  name: "Purchase Flow"

  steps:
    - name: "Product View"
      event_pattern: "page_view"
    #      required_properties:
    #        page: "/product"

    - name: "Add to Cart"
      event_pattern: "add_to_cart"
    #      required_properties:
    #        product_id: ".*"  # regex pattern

    - name: "Purchase"
      event_pattern: "purchase"
#      required_properties:
#        transaction_id: ".*"

# Optional: Define how to extract data from log files
log_parser:
  timestamp_format: "01-02 15:04:05.000"
  event_regex: ".*Analytics: (.*)"
  json_extraction: true  # Try to parse JSON from log line
  log_line_regex: "^(\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3})\\s+(\\d+)\\s+(\\d+)\\s+([VDIWEFS])\\s+([^:]+):\\s*(.*)$"